{% extends "base.html" %}

{% block title %}Compare Products{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h1 class="card-title">Compare Products</h1>
                <div class="comparison-container mb-4">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="product-select">
                                <h3>Product 1</h3>
                                <select class="form-select mb-3" id="product1">
                                    <option value="">Select a product...</option>
                                </select>
                                <div id="product1Details" class="product-details"></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="product-select">
                                <h3>Product 2</h3>
                                <select class="form-select mb-3" id="product2">
                                    <option value="">Select a product...</option>
                                </select>
                                <div id="product2Details" class="product-details"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="comparisonChart" class="mt-4">
                    <!-- Price history comparison chart will be rendered here -->
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        loadProductsForComparison();
        
        document.getElementById('product1').addEventListener('change', updateComparison);
        document.getElementById('product2').addEventListener('change', updateComparison);
    });
</script>
{% endblock %}
